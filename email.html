<script type="text/ng-template" id="email">
    <div flex></div>
    <md-button class="md-accent md-hue-2" ng-click="null">Write a new Email</md-button>
</script>

<div layout="row" flex>
    <md-card flex="33">
        <md-content layout="row" flex>
            <md-tabs md-selected="filter" flex>
                <md-tab ng-repeat="tab in tabs" ng-click="getEmails(tab)">
                    <md-tab-label>{{ tab.capitalize() }}</md-tab-label>
                    <md-tab-body>
                        <md-list flex>
                            <md-list-item class="md-2-line" ng-repeat="email in $ls.emails[tab]" ng-click="null">
                                <div ng-if="tab != 'events'" class="md-avatar-icon fix-icon" md-colors="{background: 'blue-grey-400'}" style="min-width: 36px">
                                    {{ getInitials(email.sender || email.course) }}
                                </div>
                                <div class="md-list-item-text">
                                    <h3>{{ email.title || "No Title" }}</h3>
                                    <p>{{ email.sender || email.course }}</p>
                                </div>
                                <div class="md-list-item-text align-right">
                                    <h3>{{ email.time | timeDistance }}</h3>
                                    <p class="md-caption">{{ email.event }}</p>
                                </div>
                            </md-list-item>
                        </md-list>
                    </md-tab-body>
                </md-tab>
            </md-tabs>
        </md-content>
    </md-card>
    <md-card flex>
        <md-content layout-padding flex>
            <md-card-title>
                <md-card-title-text>
                    <span class="md-display-1">{{ current.title + current.index }}</span>
                </md-card-title-text>
            </md-card-title>
            <md-card-header>
                <div id="email-circle" class="fix-icon" md-colors="{background: 'blue-grey-400'}">{{ current.initial + current.index }}</div>
                <md-card-header-text>
                    <span class="md-title">{{ current.sender(current.index) }}</span>
                    <span class="md-subhead">{{ current.index + current.time }}</span>
                </md-card-header-text>
            </md-card-header>
            <md-card-content layout="column" layout-align="end start" flex>
            </md-card-content>
        </md-content>
    </md-card>
</div>
<script type="text/ng-template" id="courses">
    <md-select ng-model="$ls.selected.course" class="no-margin" flex-gt-xs="30" flex>
        <md-option ng-repeat="id in $ls.terms[$toolbar.term].courses" ng-value="id" ng-if="$ls.courses[id].title && id.length < 8">
            {{ ::$ls.courses[id].title }}
        </md-option>
    </md-select>
</script>

<div ng-init="$ls.selected.coursesCard = $ls.selected.coursesCard || 'documents'" layout="row" flex>
    <md-card flex-gt-xs="30" ng-include="$media('gt-xs') ? 'documents'.url() : $ls.selected.coursesCard.url()" card></md-card>
    <div layout="column" ng-if="$media('gt-xs')" flex>
        <div layout="row" flex="50">
            <md-card ng-include="::'updates'.url()" card></md-card>
            <md-card ng-include="::'deadlines'.url()" card></md-card>
        </div>
        <div layout="row" flex>
            <md-card ng-include="::'info'.url()" flex="66" card></md-card>
            <md-card ng-include="::'mailto'.url()" card></md-card>
        </div>
    </div>
</div>

<md-nav-bar md-selected-nav-item="$ls.selected.coursesCard" class="md-accent md-hue-3 md-whiteframe-4dp" ng-if="$media('xs')">
    <md-nav-item ng-repeat="card in ::cards" class="fill-width" md-nav-click="$ls.selected.coursesCard = card" name="{{ ::card }}">
        <div layout="column">
            <md-icon md-font-icon="fa fa-{{ ::$cards[card].icon }} fa-1x"></md-icon>
            {{ ::card }}
        </div>
    </md-nav-item>
    {{ color = getColor($ls.selected.coursesCard); '' }}
    <style>
        .md-button._md-nav-button.md-active md-icon,
        .md-button._md-nav-button.md-active {
            color: {{ color }} !important;
        }
        md-nav-bar .md-nav-bar md-nav-ink-bar {
            background: {{ color }} !important;
        }
    </style>
</md-nav-bar>
